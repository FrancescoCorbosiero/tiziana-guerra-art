# Complete Translation Guide

## Current Setup

- **Default Language:** Italian (it_IT)
- **Available Languages:** Italian, English (US), Spanish
- **Text Domain:** sage

## Quick Start (Recommended Method)

### Using Loco Translate Plugin (Free)

**Step 1: Install Plugin**
```bash
# Via WordPress admin
Dashboard â†’ Plugins â†’ Add New â†’ Search "Loco Translate" â†’ Install â†’ Activate
```

**Step 2: Create Translations**
1. Go to **Loco Translate â†’ Themes â†’ Alpacode Studio Theme**
2. For each language:
   - Click **"New language"**
   - Choose locale (it_IT, en_US, or es_ES)
   - Location: "Custom" (will use `/languages/` folder)
   - Click **"Start translating"**
   - Translate strings in the web interface
   - Click **"Save"** (generates .po and .mo files automatically)

**Benefits:**
- âœ… No technical knowledge required
- âœ… Web-based interface
- âœ… Automatically generates .mo files
- âœ… Shows translation statistics
- âœ… Free and actively maintained

---

## Alternative Methods

### Method 1: Poedit (Desktop Application)

**Step 1: Install Poedit**
- Download from [poedit.net](https://poedit.net/)
- Free version is sufficient

**Step 2: Create POT Template (One-time)**
```bash
# Using WP-CLI (if installed)
wp i18n make-pot . languages/sage.pot --domain=sage

# Or use Loco Translate to generate it
```

**Step 3: Create Language Files**
1. Open Poedit
2. Click **"File â†’ New from POT/PO file"**
3. Select `languages/sage.pot`
4. Choose target language
5. Translate strings
6. Save as `languages/sage-it_IT.po`
7. Repeat for en_US and es_ES

**Step 4: Compile to .mo**
- Poedit automatically generates .mo files when you save

---

### Method 2: WP-CLI (Advanced)

**Generate POT Template:**
```bash
wp i18n make-pot . languages/sage.pot --domain=sage --exclude=vendor,node_modules
```

**Create PO file from template:**
```bash
# Copy template for each language
cp languages/sage.pot languages/sage-it_IT.po
cp languages/sage.pot languages/sage-en_US.po
cp languages/sage.pot languages/sage-es_ES.po
```

**Edit translations manually, then compile:**
```bash
wp i18n make-mo languages/
```

---

## Translation Best Practices

### 1. Use Context for Ambiguous Strings
```php
// Good - provides context
_x('Search', 'submit button', 'sage')

// Less clear
__('Search', 'sage')
```

### 2. Allow for Variables
```php
// Good - allows name to be translated
sprintf(__('Welcome %s', 'sage'), $name)

// Bad - hardcoded
__("Welcome $name", 'sage')
```

### 3. Pluralization
```php
// Good
_n('1 item', '%d items', $count, 'sage')

// Bad - no plural support
__($count . ' items', 'sage')
```

---

## Required Translations

### Italian (it_IT) - Your Default Language

Key strings to translate:
- "Read more" â†’ "Leggi di piÃ¹"
- "Search" â†’ "Cerca"
- "Skip to content" â†’ "Vai al contenuto"
- "Sorry, no posts were found." â†’ "Spiacente, nessun articolo trovato."
- "By" â†’ "Di"
- "Previous" â†’ "Precedente"
- "Next" â†’ "Successivo"
- "Tags:" â†’ "Tag:"
- "Comments are closed." â†’ "I commenti sono chiusi."
- "Leave a Comment" â†’ "Lascia un commento"
- "Language changed successfully" â†’ "Lingua cambiata con successo"
- "Select language" â†’ "Seleziona lingua"
- "Current language" â†’ "Lingua attuale"

### English (en_US)

English is the source language, so translations will match the original strings. You can still create the .po file for consistency.

### Spanish (es_ES)

Key strings to translate:
- "Read more" â†’ "Leer mÃ¡s"
- "Search" â†’ "Buscar"
- "Skip to content" â†’ "Saltar al contenido"
- "Sorry, no posts were found." â†’ "Lo sentimos, no se encontraron publicaciones."
- "By" â†’ "Por"
- "Previous" â†’ "Anterior"
- "Next" â†’ "Siguiente"
- "Tags:" â†’ "Etiquetas:"
- "Comments are closed." â†’ "Los comentarios estÃ¡n cerrados."
- "Leave a Comment" â†’ "Dejar un comentario"
- "Language changed successfully" â†’ "Idioma cambiado con Ã©xito"
- "Select language" â†’ "Seleccionar idioma"
- "Current language" â†’ "Idioma actual"

---

## Testing Translations

### Switch Language via Selector
1. Visit your site
2. Click the language selector in the header (globe icon)
3. Select a language
4. Page will reload with new language

### Switch in WordPress Admin
1. Go to **Settings â†’ General**
2. Change **Site Language**
3. Save changes

### Test with Browser Language
1. The theme auto-detects browser language (if enabled in config)
2. Clear cookies
3. Set browser to Italian/Spanish
4. Visit site - should show matching language

---

## File Structure After Setup

```
alpacodestudio-theme/
â”œâ”€â”€ languages/
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ TRANSLATION_GUIDE.md (this file)
â”‚   â”œâ”€â”€ sage.pot                 â† Template (generated by WP-CLI or Loco)
â”‚   â”œâ”€â”€ sage-it_IT.po            â† Italian translations
â”‚   â”œâ”€â”€ sage-it_IT.mo            â† Italian compiled
â”‚   â”œâ”€â”€ sage-en_US.po            â† English translations
â”‚   â”œâ”€â”€ sage-en_US.mo            â† English compiled
â”‚   â”œâ”€â”€ sage-es_ES.po            â† Spanish translations
â”‚   â””â”€â”€ sage-es_ES.mo            â† Spanish compiled
â””â”€â”€ config/
    â””â”€â”€ i18n.php                 â† Language configuration
```

---

## Common Issues

### Translations Not Showing

**Check 1: .mo file exists**
```bash
ls -la languages/
# Should see sage-it_IT.mo, sage-en_US.mo, sage-es_ES.mo
```

**Check 2: WordPress locale**
```bash
# In WordPress admin: Settings â†’ General â†’ Site Language
# Should match your selection
```

**Check 3: Clear cache**
```bash
# Clear all caches (browser, WordPress plugins, hosting)
```

**Check 4: File permissions**
```bash
chmod 644 languages/*.po
chmod 644 languages/*.mo
```

### Cookie Not Persisting

The language selector saves preference in a cookie named `locale`. Check:
1. Browser allows cookies
2. No cookie-blocking extensions
3. Cookie domain matches your site

### Auto-detection Not Working

Edit `/config/i18n.php`:
```php
'auto_detect' => true,  // Make sure this is true
```

---

## WordPress Locale Format

WordPress uses these locale codes:
- Italian: `it_IT` (not `it`)
- English (US): `en_US` (not `en`)
- Spanish (Spain): `es_ES` (not `es`)
- Spanish (Mexico): `es_MX`

Always use the full locale code with country!

---

## Need Help?

- [WordPress i18n Documentation](https://developer.wordpress.org/themes/functionality/internationalization/)
- [Loco Translate Docs](https://localise.biz/wordpress/plugin/beginners)
- [Poedit Tutorial](https://poedit.net/wordpress)
- Theme docs: `/docs/LANGUAGE_SELECTOR.md`

---

**Ready to start?**

ðŸ‘‰ **Recommended:** Install Loco Translate plugin and start translating in your browser!
